!function(){function t(){return u++}function e(t){return t.replace(/\W/g,"_")}function n(t,e){e=e||"ms";var n=0,r=t.toLowerCase().match(/[-+]?[0-9\.]+[a-z]+/g);return null!==r&&r.forEach(function(t){var e=t.match(/[0-9\.]+/g)[0],r=t.match(/[a-z]+/g)[0];n+=i(e,r)}),n/c[e]}function i(t,e){var n=c[e];if(n)return t*n;throw new Error('The unit "'+e+'" could not be recognized')}function r(t){return Math.max.apply(null,t)}function a(t){return"number"==typeof t?t:n(t)}function o(){return this instanceof o?(this.groups=[],this.currentGroupIndex=-1,this.animationSteps=[],this.cssClassStack=[],this):new o}function s(t){if("object"==typeof t)return{name:e(t.name),steps:t.steps,direction:t.direction||"forwards",timingFunction:t.timingFunction||"linear",durationms:a(t.duration||1e3),delayms:a(t.delay||0),nextElementDelay:t.nextElementDelay||t.duration,nextElementDelayms:a(t.nextElementDelayms||t.duration)};throw new Error("Animation details must be an object")}var u=1,c={"Î¼s":1,ms:1e3,s:1e6,m:6e7,h:36e8,d:864e8,w:6048e8};Array.prototype.reduce||(Array.prototype.reduce=function(t){"use strict";if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var e,n=Object(this),i=n.length>>>0,r=0;if(2==arguments.length)e=arguments[1];else{for(;r<i&&!(r in n);)r++;if(r>=i)throw new TypeError("Reduce of empty array with no initial value");e=n[r++]}for(;r<i;r++)r in n&&(e=t(e,n[r],r,n));return e});var l=function(t){"use strict";function e(t,e,n,i,r){this.component=t,this.node=e,this.css=n,this.prefixes=i,this.doc=r}function n(t){t instanceof e||(t=u(this.component,t,this.prefixes,this.doc)),this.remove(),e.call(this,t.component,t.node,t.css,t.prefixes,t.doc)}function i(t,e,n){return e+"-"+n.toLowerCase()}function r(t,e,n){var r,a=[],o="number"==typeof e?"px":"",s=t.replace(p,i);for(r=0;r<n.length;r++)a.push("-",n[r],"-",s,":",e,o,";");return a.push(s,":",e,o,";"),a.join("")}function a(t,e){return t.length?t+"-"+e:e}function o(t,e,n,i){var s,u,c;for(s in n)if(l.call(n,s))if("object"==typeof n[s])if(d(n[s]))for(u=n[s],c=0;c<u.length;c++)t.push(r(a(e,s),u[c],i));else o(t,a(e,s),n[s],i);else t.push(r(a(e,s),n[s],i));return t.join("")}function s(t,e,n){var i,r,a,u,c,p,d,y,v,g,w=[];for(d in e)if(l.call(e,d))for(g=d.length,g||(d=t.slice(0,-1)),i="@"===d.charAt(0),p=i||!t.indexOf(d+" "),r=i&&m.test(d)?t:"",a=i&&!f.test(d),u=a?d.slice(1):d,y=h.concat(e[g?d:""]),v=0;v<y.length;v++)if(c=y[v],a){for(g=n.length;g--;)w.push("@-",n[g],"-",u,"{",s(r,c,[n[g]]),"}");w.push(d,"{",s(r,c,n),"}")}else w.push(p?d:t+d,"{",o([],"",c,n),"}");return w.join("")}var u,c=t.toString,l=t.hasOwnProperty,p=/([a-z])([A-Z])/g,f=/^@(?:page|font-face)/,m=/^@(?:media)/,d=Array.isArray||function(t){return"[object Array]"===c.call(t)},h=[];return e.prototype={overwrite:n,replace:n,set:n,remove:function(){var t=this.node,e=t.parentNode;e&&e.removeChild(t)},valueOf:function(){return this.css}},{undefined:!0}[typeof document]?(u=function(t,e,n){return"object"==typeof t?(n=e,e=t,t=""):t+=" ",s(t,e,n||h)},u.restyle=u):u=function(t,n,i,r){"object"==typeof t?(r=i,i=n,n=t,a=t=""):a=t+" ";var a,o=r||(r=document),c=s(a,n,i||(i=u.prefixes)),l=o.head||o.getElementsByTagName("head")[0]||o.documentElement,p=l.insertBefore(o.createElement("style"),l.lastChild);return p.type="text/css",p.styleSheet?p.styleSheet.cssText=c:p.appendChild(o.createTextNode(c)),new e(t,p,c,i,r)},{undefined:!0}[typeof window]||(u.animate=function(n){var i,r,a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,10)},o={},s="restyle-".concat(Math.random()*+new Date,"-"),c=0;switch(!0){case!!n.AnimationEvent:i="animationend";break;case!!n.WebKitAnimationEvent:i="webkitAnimationEnd";break;case!!n.MSAnimationEvent:i="MSAnimationEnd";break;case!!n.OAnimationEvent:i="oanimationend"}switch(!0){case!!n.TransitionEvent:r="transitionend";break;case!!n.WebKitTransitionEvent:r="webkitTransitionEnd";break;case!!n.MSTransitionEvent:r="MSTransitionEnd";break;case!!n.OTransitionEvent:r="oTransitionEnd"}u.transition=function(t,e,n){function i(){r?t.removeEventListener(r,p,!1):(clearTimeout(y),y=0)}function l(){b[m]=h.last=f(E,w.shift()),h.css.replace(b),r?t.addEventListener(r,p,!1):y=setTimeout(p,10)}function p(e){i(),w.length?a(l):(e?e.detail=d:e=new CustomEvent("transitionend",{detail:d}),n&&n.call(t,e))}function f(t,e){for(var n in e)t[n]=e[n];return t}var m,d,h,y,v=e.transition||"all .3s ease-out",g=t.getAttribute("id"),w=[].concat(e.to),E=f({},e.from),S=!g,b={};return S&&t.setAttribute("id",g=(s+c++).replace(".","-")),m="#"+g,o.hasOwnProperty(g)?(h=o[g],E=h.last=f(h.last,E),b[m]=E,h.transition.remove(),h.css.replace(b)):h=o[g]={last:b[m]=E,css:u(b)},a(function(){b[m]={transition:v},h.transition=u(b),a(l)}),d={clean:function(){S&&t.removeAttribute("id"),i(),h.transition.remove(),h.css.remove(),delete o[g]},drop:i}},e.prototype.getAnimationDuration=function(t,e){for(var n,i,r=t.className.split(/\s+/),a=r.length;a--;)if(n=r[a],n.length&&new RegExp("\\."+n+"(?:|\\{|\\,)([^}]+?)\\}").test(this.css)&&(n=RegExp.$1,(new RegExp("animation-name:"+e+";.*?animation-duration:([^;]+?);").test(n)||new RegExp("animation:\\s*"+e+"\\s+([^\\s]+?);").test(n))&&(n=RegExp.$1,i=parseFloat(n))))return i*(/[^m]s$/.test(n)?1e3:1);return-1},e.prototype.getTransitionDuration=function(t){var e=getComputedStyle(t),n=e.getPropertyValue("transition-duration")||/\s(\d+(?:ms|s))/.test(e.getPropertyValue("transition"))&&RegExp.$1;return parseFloat(n)*(/[^m]s$/.test(n)?1e3:1)},e.prototype.transit=r?function(t,e){function n(n){i(),e.call(t,n)}function i(){t.removeEventListener(r,n,!1)}return t.addEventListener(r,n,!1),{drop:i}}:function(t,e){var n=setTimeout(e,this.getTransitionDuration(t));return{drop:function(){clearTimeout(n)}}},e.prototype.animate=i?function(t,e,n){function r(i){i.animationName===e&&(a(),n.call(t,i))}function a(){t.removeEventListener(i,r,!1)}return t.addEventListener(i,r,!1),{drop:a}}:function(e,n,i){var r,a,o=this.getAnimationDuration(e,n);return o<0?a=t:(r=setTimeout(function(){i.call(e,{type:"animationend",animationName:n,currentTarget:e,target:e,stopImmediatePropagation:t,stopPropagation:t,preventDefault:t})},o),a=function(){clearTimeout(r)}),{drop:a}}}(window)),u.customElement=function(t,e,n){var i,r="extends",a=Object.create(e.prototype),o={prototype:a},s=o.hasOwnProperty,c=n&&s.call(n,r);c&&(o[r]=n[r]);for(i in n)i!==r&&(a[i]="css"===i?u(c?n[r]+"[is="+t+"]":t,n[i]):n[i]);return document.registerElement(t,o)},u.prefixes=["webkit","moz","ms","o"],u}({});o.prototype={select:function(t){return this.groups.push(t),this.currentGroupIndex++,this},play:function(){var t,e=[];if(t={type:"play",animations:e,group:this.groups[this.currentGroupIndex],onStartListeners:[],onEndListeners:[]},"string"==typeof arguments[0]){var n={name:arguments[0],duration:arguments[1],delay:arguments[2]};e.push(s(n))}else for(var i=0;i<arguments.length;i++)e.push(s(arguments[i]));return t.durationms=r(t.animations.map(function(t){return t.durationms+t.delayms})),this._generateClass(t),this.animationSteps.push(t),this},playCascade:function(){var t,e=[];if(t={type:"playCascade",animations:e,group:this.groups[this.currentGroupIndex],onStartListeners:[],onEndListeners:[]},"string"==typeof arguments[0]){var n={name:arguments[0],duration:arguments[1],delay:arguments[2]};e.push(s(n))}else for(var i=0;i<arguments.length;i++)e.push(s(arguments[i]));for(var i=0;i<arguments.length;i++)e.push(s(arguments[i]));return t.durationms=r(t.animations.map(function(t){return t.durationms+t.delayms})),this._generateClass(t),this.animationSteps.push(t),this},reset:function(){var t={type:"reset"};return this.animationSteps.push(t),this},_generateClass:function(e){var n=e.animations.reduce(function(t,e){return(t.name?t.name:"")+"_"+e.name},{});e.className=n+t();var i=[];e.animations.forEach(function(t){var e=t.steps?"steps("+t.steps+")":"";i.push([t.name,t.durationms+"ms",t.delayms+"ms",e,t.timingFunction,t.direction].join(" "))});var r=i.join(","),a="."+e.className,o={};o[a]={animation:r,opacity:1};l(o);this.cssClassStack.push(n)},wait:function(t,e){var n=null;["string","number"].indexOf(typeof t)>-1?n=a(t):["string","number"].indexOf(typeof e)>-1&&(n=a(e));var t="function"==typeof t?t:new Function,i={type:"wait",cb:t,delay:n};return this.animationSteps.push(i),this},clear:function(t){return this.animationSteps.push({type:"clear",cb:t||new Function}),this},start:function(){return this.setupWaitCalls(),this.runStep(0),this},setupWaitCalls:function(){for(var t=this,e=0;e<this.animationSteps.length;e++){var n=this.animationSteps[e];if("wait"===n.type){var i,r=e-1;do{if(i=this.animationSteps[r],["play","playCascade"].indexOf(i.type)>=0)break;if("wait"===i.type)throw new Error("Only one wait call is supported between play/playCascade calls");r--}while(r>=0);i.nextStepIndex=e+1;var a=function(e,n){var i=function(){e.cb&&e.cb(),t.runStep(n.nextStepIndex)};return i.delay=e.delay,i}(n,i);n.delay?(console.log("adding callback to previous onStarTListeners list"),i.onStartListeners.push(a)):i.onEndListeners.push(a)}}},runStep:function(t){if(!(t>=this.animationSteps.length)){var e=this.animationSteps[t],n=this;if("wait"===e.type)throw new Error("wait should be called after a play or playCascade call");if("clear"===e.type){var i=this.cssClassStack.shift(),r=this._getLastPlayStep(t);if(!r)throw new Error("play or playCascade must be called before clear");return r.elems.forEach(function(t){t.classList.remove(i)}),void n.runStep(t+1)}if("reset"===e.type)return this.cssClassStack.forEach(function(t){document.querySelectorAll("."+t).forEach(function(e){e.classList.remove(t)})}),this.animationSteps=[],this.currentGroupIndex=-1,void(this.groups=[]);e.onStartListeners.forEach(function(n){setTimeout(function(){n.bind(e)(e,t)},n.delay||0)});var a=this._getTargetElements(e.group),o=e.cascade?a.length*e.nextElementDelayms:e.durationms;if(e.elems=a,"playCascade"===e.type){var s=0;a.forEach(function(t){setTimeout(function(){t.classList.add(e.className)}.bind(this),s),s+=e.nextElementDelayms})}else a.forEach(function(t){t.classList.add(e.className)});e.onEndListeners.forEach(function(n){setTimeout(function(){n.bind(e)(e,t)},o)}),0===e.onEndListeners.length&&0===e.onStartListeners.length&&this.runStep(t+1)}},_getLastPlayStep:function(t){for(;t>=0;){if("play"===this.animationSteps[t].type||"playCascade"===this.animationSteps[t].type)return this.animationSteps[t];t--}return null},_getTargetElements:function(t){return"string"==typeof t?Array.prototype.slice.call(document.querySelectorAll(t),0):window.jQuery&&t instanceof jQuery?Array.prototype.slice.call(t):t instanceof NodeList?Array.prototype.slice.call(t):t instanceof Node?[t]:void 0}},"object"==typeof exports&&exports?module.exports=o:window.Baile=o}();